### Описание 
Скрипт(main.py) публикует фото космической тематики в телеграм-канал каждые n-часов из заданной директории. 

Поддерживаются следующие источники фото:
- APOD(https://api.nasa.gov/)
- EPIC(https://api.nasa.gov/EPIC/api/natural?api_key=DEMO_KEY)
- spacex(https://api.spacexdata.com/v5/launches/)
## Следующие шаги необходимо выполнить для запуска автоматической публикации фотографий в телеграм:
### 1. Подготовка.
#### Клонировать репозиторий: 
```
git clone https://github.com/alexdiptan/dvmn_publish_space_images_to_tg.git
```
#### Перейти в полученную директорию:
```
cd dvmn_publish_space_images_to_tg
```
#### Создать виртуальное окружение:
```
python3 -m venv my_env
```
#### Активировать виртуальное окружение:
```
source my_env/bin/activate
```
#### Установить зависимости:
```
pip install -r requirements.txt
```
#### Переименовать файл
Все переменные окружения, скрипт берет из файла `.env`. Шаблон файла .env, называется .env_template.
Нужно переименовать файл `.env_template -> .env`.

### 2. Заполнить папку images фотографиями с помощью вспомогательных скриптов
#### Запуск вспомогательных скриптов
Скрипты fetch_apod_images.py fetch_spacex_images.py и fetch_epic_images.py можно запускать по отдельности. Данные
скрипты получают фотографии по API и сохраняют их в директорию images.
Если всё прошло штатно - в результате работы дополнительных скриптов, в папке images появятся фотографии.
#### Дополнительные параметр 
У скриптов `fetch_epic_images.py` и `fetch_apod_images.py` есть необязательная переменная `NASA_API_KEY`. 
Находится в файле .env. В переменную можно заполнить токен полученный на сайте NASA. Если данная переменная
не указана - будет использоваться токен по-умочанию DEMO_KEY
#### Пример запуска скрипта fetch_apod_images.py
```
python3 fetch_apod_images.py
```
Дополнительные параметры:
- --count_to_save - кол-во фотографий, которые будут сохранены скриптом. По-умолчанию, данный параметр = 5.

Например, вот так можно получить одну фотографию: 
```
python3 fetch_apod_images.py --count_to_save 1
```
#### Пример запуска скрипта fetch_epic_images.py
```
python3 fetch_epic_images.py
```
#### Пример запуска скрипта fetch_spacex_images.py
```
python3 fetch_spacex_images.py
```
Дополнительные параметры:
- --launch_id - id запуска. По-умолчанию, скрипт пытается получить фото последнего запуска spacex. Может быть так, что 
фото запуска нет. Тогда, скрипт отработает, но фотографий не сохранит. Если нужно получить фото с определенного запуска, 
необходимо использовать ключ `-l` или `--launch_id`.

Например, вот так можно получить фото с запуска 5eb87d47ffd86e000604b38a:
```
python3 fetch_spacex_images.py --launch_id 5eb87d47ffd86e000604b38a
```

### 3. Запустить скрипт публикации фотографий в телеграм канал
После того как папка images наполнена фотографиями, можно приступать к запуску автоматической публикации 
фото в телеграм.
#### Переменные окружения
Для работы скрипта(main.py) используются следующие, обязательные, переменные окружения(заполняются в файле `.env`):
TELEGRAM_TOKEN
TELEGRAM_CHANEL_ID
#### Запуск скрипта main.py
При вызове скрипта без указания дополнительных параметров, будет запущена публикация фотографий в телеграм-канал
через каждые 4 часа.
```
python3 main.py
```
Дополнительные параметры:
- --image_path - не обязательный параметр. Путь до файла фотографии, который следует отправить в телеграм. При запуске 
с данным параметром, скрипт отправляет указанную фотографию в телеграм-канал.

Пример запуска: 
```
python3 main.py --image_path images/space_image.jpg
```
- --publication_frequency - не обязательный параметр. Указывает в часах, как часто публиковать фото в телеграм-канале.
Ожидается целое число > 0.

Пример запуска:
```
python3 main.py --publication_frequency 8
```